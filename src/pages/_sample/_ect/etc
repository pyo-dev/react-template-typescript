useEffect(() => {
  const chart = chartRef.current?.chart;
  if (!chart) return;

  const xAxis = chart.xAxis[0];
  const yAxis = chart.yAxis[0];

  // 최초 렌더 시 절대 범위 저장
  const x0 = xAxis.getExtremes();
  const y0 = yAxis.getExtremes();

  const original = {
    xMin: x0.dataMin,
    xMax: x0.dataMax,
    yMin: y0.dataMin,
    yMax: y0.dataMax,
  };

  // padding 제거 → 축소 문제가 절대 발생 안 함
  xAxis.update({ minPadding: 0, maxPadding: 0 }, false);
  yAxis.update({ minPadding: 0, maxPadding: 0 }, false);
  chart.redraw();

  const handleWheel = (e: WheelEvent) => {
    if (!e.shiftKey) return;
    e.preventDefault();

    const zoomFactor = 0.2;
    const isZoomIn = e.deltaY < 0; // 방향 반전
    const direction = isZoomIn ? -1 : 1;

    /* ------------------ X축 ------------------ */
    const extX = xAxis.getExtremes();
    const currXRange = extX.max - extX.min;

    const isFullX =
      extX.min <= original.xMin && extX.max >= original.xMax;

    let newXMin = extX.min + (currXRange * zoomFactor * direction) / 2;
    let newXMax = extX.max - (currXRange * zoomFactor * direction) / 2;

    // 원래 범위보다 더 커지면 전체 범위로 고정
    if (!isZoomIn && isFullX) {
      newXMin = original.xMin;
      newXMax = original.xMax;
    }

    // 절대 범위 제한
    if (newXMin < original.xMin) newXMin = original.xMin;
    if (newXMax > original.xMax) newXMax = original.xMax;

    if (newXMax - newXMin > 1) {
      xAxis.setExtremes(newXMin, newXMax, true, false);
    }

    /* ------------------ Y축 ------------------ */
    const extY = yAxis.getExtremes();
    const currYRange = extY.max - extY.min;

    const isFullY =
      extY.min <= original.yMin && extY.max >= original.yMax;

    let newYMin = extY.min + (currYRange * zoomFactor * direction) / 2;
    let newYMax = extY.max - (currYRange * zoomFactor * direction) / 2;

    if (!isZoomIn && isFullY) {
      newYMin = original.yMin;
      newYMax = original.yMax;
    }

    if (newYMin < original.yMin) newYMin = original.yMin;
    if (newYMax > original.yMax) newYMax = original.yMax;

    if (newYMax - newYMin > 1) {
      yAxis.setExtremes(newYMin, newYMax, true, false);
    }
  };

  const container = chart.container;
  container.addEventListener("wheel", handleWheel);

  return () => container.removeEventListener("wheel", handleWheel);
}, []);
